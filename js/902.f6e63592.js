"use strict";(globalThis["webpackChunkfirebaseaut"]=globalThis["webpackChunkfirebaseaut"]||[]).push([[902],{1902:(e,l,a)=>{a.r(l),a.d(l,{default:()=>N});a(9665);var t=a(9835),u=a(1957),o=a(6970),d=a(499),n=a(8339),i=a(222),c=a(9017),s=a(2079),r=a(202);const m={align:"right"},p={hidden:"",align:"right"},v=(0,t._)("br",null,null,-1),g=(0,t._)("br",null,null,-1),f={class:"q-pa-md row items-start"},w=(0,t._)("span",{class:"text-weight-regular text-h6"},"ADD",-1),h={align:"center",class:"text-h6 text-uppercase",style:{"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis","max-width":"250px"}},b=(0,t._)("span",{class:"text-h6 text-uppercase"},"â‚±",-1),_=(0,t._)("span",{class:"text-uppercase"},"Category:",-1),W={class:"text-subtitle2"},y={class:"text-subtitle2"},V={__name:"FeedPage",setup(e){const l=(0,t.FN)().appContext.config.globalProperties,a=(0,d.iH)([]),V=(0,d.iH)(""),k=(0,d.iH)(""),C=(0,d.iH)(""),H=(0,d.iH)(0),x=(0,d.iH)(0),U=(0,d.iH)(2.3),q=(0,d.iH)(""),Z=(0,d.iH)(!1),Q=(0,d.iH)(""),D=(0,d.iH)(""),S=(0,d.iH)(""),I=(0,d.iH)(null),P=(0,d.iH)(""),j=(0,d.iH)(!1),T=(0,d.iH)(!1),A=(0,d.iH)(""),E={apiKey:"AIzaSyDbjhOcP2TgjTn1Me9NxaGLJYjF8i8ktZE",authDomain:"fire-tut-981d2.firebaseapp.com",databaseURL:"https://fire-tut-981d2-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"fire-tut-981d2",storageBucket:"fire-tut-981d2.appspot.com",messagingSenderId:"935943220581",appId:"1:935943220581:web:e551613f36c35b1c41058c",measurementId:"G-TH1TFB65DG"},F=(0,i.ZF)(E),z=(0,c.ad)(F),N=l.$getStorage();async function B(){T.value=!0}const J=(0,n.tv)(),M=(0,d.iH)(!0);let R;async function G(){const e=(0,d.iH)(N,I.value.name.toString());console.log("forestRef",e);const a=(0,s.iH)(N,I.value.name.toString());await l.$uploadBytes(a,I.value).then((e=>{console.log("storage",e)}));try{await(0,s.Jt)((0,s.iH)(N,I.value.name.toString())).then((e=>{console.log(e),P.value=e}));const e=await(0,c.ET)((0,c.hJ)(z,"iam"),{name:k.value,description:V.value,specifications:C.value,price:H.value,pricebefore:x.value,ratings:U.value,brand:q.value,image:P.value,ratings:U.value,percent:H.value/x.value*100,userid:A.value});T.value=!1,k.value="",V.value="",console.log("Document written with ID: ",e.id)}catch(t){console.error("Error adding document: ",t)}}async function K(e){j.value=!0,D.value=e.name,Q.value=e.id,S.value=e.description}async function L(e){Q.value=e.id,D.value=e.name,Z.value=!0}async function O(){Z.value=!1,await(0,c.oe)((0,c.JU)(z,"iam",Q.value))}(0,t.vl)((async()=>{R=(0,r.v0)(),(0,r.Aj)(R,(e=>{e?(M.value=!0,console.log(M.value)):(M.value=!1,console.log(M.value))}))}));var Y=(0,r.v0)().currentUser;console.log(Y.uid),A.value=Y.uid,null!=Y&&(Y.displayName,Y.uid),console.log("yow",A.value);const $=(0,c.IO)((0,c.hJ)(z,"iam"),(0,c.ar)("userid","==",A.value)),X=((0,c.cf)($,(e=>{e.docChanges().forEach((e=>{console.log("doc.data()",e.doc.data());var l={...e.doc.data(),id:e.doc.id};if("added"===e.type&&a.value.push(l),"modified"===e.type&&console.log("Modified city: ",l),"removed"===e.type){const l=a.value.findIndex((l=>l.name===e.doc.data().name));console.log("Removed city: ",e.doc.data(),e.doc.id),a.value.splice(l,1)}}))})),()=>{const e=(0,r.v0)();(0,r.w7)(e).then((()=>{J.push("/sign-in"),console.log("Sign-out successful.")})).catch((e=>{J.push("/"),console.log(e)}))});return(e,l)=>{const d=(0,t.up)("q-btn"),n=(0,t.up)("q-input"),i=(0,t.up)("q-separator"),c=(0,t.up)("q-icon"),s=(0,t.up)("q-file"),r=(0,t.up)("q-card-section"),V=(0,t.up)("q-card-actions"),x=(0,t.up)("q-card"),U=(0,t.up)("q-dialog"),Q=(0,t.up)("q-tooltip"),P=(0,t.up)("q-img"),A=(0,t.up)("q-badge"),E=(0,t.up)("q-form"),F=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("div",m,[(0,t.Wm)(d,{icon:"add",label:"Add Product",onClick:l[0]||(l[0]=e=>B()),flat:"",dense:""})]),(0,t._)("div",p,[M.value?((0,t.wg)(),(0,t.j4)(d,{key:0,hidden:"",onClick:X},{default:(0,t.w5)((()=>[(0,t.Uk)("log out")])),_:1})):(0,t.kq)("",!0)]),(0,t._)("div",null,[(0,t.Wm)(U,{modelValue:T.value,"onUpdate:modelValue":l[9]||(l[9]=e=>T.value=e)},{default:(0,t.w5)((()=>[(0,t.Wm)(x,{class:"q-ma-md",width:"500px"},{default:(0,t.w5)((()=>[(0,t.Wm)(r,null,{default:(0,t.w5)((()=>[(0,t.Wm)(n,{label:"Name","lazy-rules":"",rules:[e=>!!e||"Please enter account  Name"],modelValue:k.value,"onUpdate:modelValue":l[1]||(l[1]=e=>k.value=e)},null,8,["rules","modelValue"]),(0,t.Wm)(n,{modelValue:C.value,"onUpdate:modelValue":l[2]||(l[2]=e=>C.value=e),label:"Specifications"},null,8,["modelValue"]),(0,t.Wm)(n,{modelValue:H.value,"onUpdate:modelValue":l[3]||(l[3]=e=>H.value=e),modelModifiers:{number:!0},label:"Price"},null,8,["modelValue"]),(0,t.Wm)(n,{modelValue:q.value,"onUpdate:modelValue":l[4]||(l[4]=e=>q.value=e),label:"Category"},null,8,["modelValue"]),(0,t.Wm)(i),v,(0,t.Wm)(s,{filled:"","bottom-slots":"",modelValue:I.value,"onUpdate:modelValue":l[7]||(l[7]=e=>I.value=e),label:"Product Image",counter:""},{prepend:(0,t.w5)((()=>[(0,t.Wm)(c,{name:"cloud_upload",onClick:l[5]||(l[5]=(0,u.iM)((()=>{}),["stop","prevent"]))})])),append:(0,t.w5)((()=>[(0,t.Wm)(c,{name:"close",onClick:l[6]||(l[6]=(0,u.iM)((e=>I.value=null),["stop","prevent"])),class:"cursor-pointer"})])),hint:(0,t.w5)((()=>[(0,t.Uk)(" Product Pic ")])),_:1},8,["modelValue"]),g])),_:1}),(0,t.Wm)(V,{align:"right"},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{color:"accent",label:"ADD Product",class:"q-pa-lg",onClick:l[8]||(l[8]=e=>G()),flat:"",dense:""})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,t._)("div",f,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.value,(l=>((0,t.wg)(),(0,t.j4)(x,{style:{"background-color":"#D8E6E9 !important"},class:"my-card q-ma-md",key:l.id,onClick:e=>K(l)},{default:(0,t.w5)((()=>[(0,t.Wm)(P,{width:"300px",height:"250px",src:l.image},{default:(0,t.w5)((()=>[(0,t.Wm)(Q,{target:e.targetEl,anchor:"center middle",self:"center middle",class:"bg-amber-14"},{default:(0,t.w5)((()=>[w])),_:1},8,["target"])])),_:2},1032,["src"]),(0,t.Wm)(r,null,{default:(0,t.w5)((()=>[(0,t._)("div",h,[(0,t.Uk)((0,o.zw)(l.name)+" ",1),b,(0,t.Uk)(" "+(0,o.zw)(l.price),1)]),(0,t._)("div",null,[_,(0,t.Wm)(A,{rounded:"",color:"amber-10",class:"q-ml-lg"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(l.brand),1)])),_:2},1024)])])),_:2},1024),(0,t.Wm)(r,{align:"right"},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{icon:"close",hidden:"",onClick:e=>L(l)},null,8,["onClick"])])),_:2},1024)])),_:2},1032,["onClick"])))),128))]),(0,t.Wm)(U,{modelValue:j.value,"onUpdate:modelValue":l[12]||(l[12]=e=>j.value=e),width:"700px"},{default:(0,t.w5)((()=>[(0,t.Wm)(E,{onSubmit:e.onSubmitUpdate,width:"700px"},{default:(0,t.w5)((()=>[(0,t.Wm)(x,{style:{width:"700px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(r,null,{default:(0,t.w5)((()=>[(0,t._)("div",W,[(0,t.Wm)(n,{modelValue:D.value,"onUpdate:modelValue":l[10]||(l[10]=e=>D.value=e),label:"docName"},null,8,["modelValue"]),(0,t.Wm)(n,{modelValue:S.value,"onUpdate:modelValue":l[11]||(l[11]=e=>S.value=e),label:"docDesc"},null,8,["modelValue"])])])),_:1}),(0,t.Wm)(V,null,{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(d,{label:"Cancel",type:"reset",class:"col",unelevated:""},null,512),[[F]]),(0,t.Wm)(d,{unelevated:"",type:"submit",label:"Save",class:"col"})])),_:1})])),_:1})])),_:1},8,["onSubmit"])])),_:1},8,["modelValue"]),(0,t.Wm)(U,{modelValue:Z.value,"onUpdate:modelValue":l[13]||(l[13]=e=>Z.value=e)},{default:(0,t.w5)((()=>[(0,t.Wm)(x,{class:"my-card bg-purple text-white"},{default:(0,t.w5)((()=>[(0,t.Wm)(r,null,{default:(0,t.w5)((()=>[(0,t._)("div",y," Are your sure you want do delete this item "+(0,o.zw)(D.value)+"? ",1)])),_:1}),(0,t.Wm)(V,null,{default:(0,t.w5)((()=>[(0,t.wy)(((0,t.wg)(),(0,t.j4)(d,{flat:""},{default:(0,t.w5)((()=>[(0,t.Uk)("Cancel")])),_:1})),[[F,Z.value]]),(0,t.Wm)(d,{flat:"",onClick:O},{default:(0,t.w5)((()=>[(0,t.Uk)("Confirm")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])])}}};var k=a(4455),C=a(9420),H=a(2074),x=a(4458),U=a(3190),q=a(4152),Z=a(1570),Q=a(926),D=a(2857),S=a(1821),I=a(335),P=a(6858),j=a(990),T=a(8326),A=a(2146),E=a(9984),F=a.n(E);const z=V,N=z;F()(V,"components",{QBtn:k.Z,QFile:C.Z,QDialog:H.Z,QCard:x.Z,QCardSection:U.Z,QInput:q.Z,QRating:Z.Z,QSeparator:Q.Z,QIcon:D.Z,QCardActions:S.Z,QImg:I.Z,QTooltip:P.Z,QBadge:j.Z,QForm:T.Z}),F()(V,"directives",{ClosePopup:A.Z})}}]);