(globalThis["webpackChunkfirebaseaut"]=globalThis["webpackChunkfirebaseaut"]||[]).push([[902],{1902:(e,l,a)=>{"use strict";a.r(l),a.d(l,{default:()=>ue});a(9665);var t=a(9835),o=a(1957),u=a(6970),n=a(499),i=a(8586),d=a.n(i),s=a(2275),c=a(5762),r=a.n(c),m=a(8339),v=a(9302),p=a(9120),g=a(222),f=a(9017),w=a(2079),y=a(202);const _=(0,t._)("br",null,null,-1),b=(0,t._)("br",null,null,-1),h={class:"row"},W={class:"col-9 row",style:{"align-items":"flex-start"}},k=(0,t._)("span",{class:"text-weight-regular text-h5 text-black"},"ADD",-1),q={align:"center",class:"text-h6 text-uppercase",style:{"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis","max-width":"250px"}},U=(0,t._)("span",{class:"text-h6 text-uppercase"},"â‚±",-1),V=(0,t._)("span",{class:"text-uppercase"},"Category:",-1),x={class:"col row"},C={class:"text-h6"},H={key:0,style:{"text-align":"center"},class:"text-subtitle2 q-ma-sm"},D={key:0,class:"",align:"center",alt:"Quasar logo",width:"150",height:"150",src:d()},I={key:1},Z=["src"],S=(0,t._)("div",{class:"text-h6"},"Edit Product",-1),Q={class:"text-subtitle2"},P={class:"text-subtitle2"},T={__name:"FeedPage",setup(e){console.log("NANOID",(0,s.x0)());const l=(0,t.FN)().appContext.config.globalProperties,a=(0,n.iH)([]),i=(0,n.iH)(""),d=(0,n.iH)(""),c=(0,n.iH)(""),T=(0,n.iH)(0),z=(0,n.iH)(0),O=(0,n.iH)(2.3),j=(0,n.iH)(""),A=(0,n.iH)("all"),E=(0,n.iH)(null),M=(0,n.iH)(null),R=(0,n.iH)(["starter","drinks","promos"]),F=(0,n.iH)(!1),J=(0,n.iH)(""),N=(0,n.iH)(""),Y=((0,n.iH)(""),(0,n.iH)([])),B=(0,n.iH)(""),L=(0,n.iH)(r()()),G=(0,n.iH)(!1),K=(0,n.iH)(!1),$=(0,n.iH)(""),X=($.value.slice(0,7),(0,n.iH)([])),ee=(0,n.iH)(0),le=(new Date).getFullYear(),ae=(0,n.iH)(""),te={apiKey:"AIzaSyDbjhOcP2TgjTn1Me9NxaGLJYjF8i8ktZE",authDomain:"fire-tut-981d2.firebaseapp.com",databaseURL:"https://fire-tut-981d2-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"fire-tut-981d2",storageBucket:"fire-tut-981d2.appspot.com",messagingSenderId:"935943220581",appId:"1:935943220581:web:e551613f36c35b1c41058c",measurementId:"G-TH1TFB65DG"},oe=(0,g.ZF)(te),ue=(0,f.ad)(oe),ne=l.$getStorage(),ie=((0,n.iH)(null),(0,n.iH)(!1));async function de(){K.value=!0}(0,m.tv)();const se=(0,n.iH)(!0),ce=(0,v.Z)();let re;async function me(){const e=(0,n.iH)(ne,Y.value.name.toString());console.log("forestRef",e);const a=(0,w.iH)(ne,Y.value.name.toString());await l.$uploadBytes(a,Y.value).then((e=>{console.log("storage",e)}));try{await(0,w.Jt)((0,w.iH)(ne,Y.value.name.toString())).then((e=>{console.log(e),B.value=e}));const e=await(0,f.ET)((0,f.hJ)(ue,"iam"),{name:d.value,description:i.value,specifications:c.value,price:T.value,pricebefore:z.value,ratings:O.value,category:j.value,image:B.value,ratings:O.value,percent:T.value/z.value*100,userid:$.value});K.value=!1,await Ue(),L.value=r()()(d.value=""),i.value="",console.log("Document written with ID: ",e.id)}catch(t){console.error("Error adding document: ",t)}}async function ve(e){J.value=e.id,N.value=e.name,F.value=!0}const pe=(e,l=1)=>{const a=new Date,t={month:"short",day:"numeric",year:"numeric"},o=a.toLocaleDateString("en-US",t),u=X.value.find((l=>l.itemId===e.id));if(u)return void(u.order_quantity+=l);ae.value=e.userid;const n={itemId:e.id,name:e.name,price:e.price,desc:e.description,category:e.category,image:e.image,orderDate:o,order_quantity:l};X.value=[...X.value,{...n}],console.log("ORDERS",X.value)};async function ge(){try{const e=(new Date).getFullYear(),l=(new Date,await(0,f.ET)((0,f.hJ)(ue,"orders"),{orders:X.value,userId:ae.value,payment_status:"unpaid",orderId:"ORDER#"+e+L.value}));console.log("docRef ",l);const a=ce.dialog({title:"Uploading...",dark:!0,message:"0%",progress:{spinner:p.Z,color:"amber"},persistent:!0,ok:!1});let t=0;const o=setInterval((()=>{t=Math.min(100,t+Math.floor(22*Math.random())),a.update({message:`${t}%`}),100===t&&(clearInterval(o),a.update({title:"Done!",message:"Upload completed successfully",progress:!1,ok:!0}))}),300);X.value=[],L.value=r()(),console.log("Document written with ID: ",l.id)}catch(e){console.error("Error adding document: ",e)}}const fe=(0,t.Fl)((()=>{ee.value=0;for(const e of X.value)ee.value+=e.price*e.order_quantity;return ee.value})),we=e=>{e.order_quantity++},ye=e=>{e.order_quantity>1&&e.order_quantity--},_e=()=>{X.value=[]};async function be(){F.value=!1,await(0,f.oe)((0,f.JU)(ue,"iam",J.value)),await Ue()}(0,t.vl)((async()=>{re=(0,y.v0)(),(0,y.Aj)(re,(e=>{e?(se.value=!0,console.log(se.value)):(se.value=!1,console.log(se.value))}))}));var he=(0,y.v0)().currentUser;$.value=he.uid,null!=he&&(he.displayName,he.uid),(0,t.YP)(A,((e,l)=>{console.log("tab",A),console.log("tab",e),M.value&&M.value();const t=e;E.value="all"===t?(0,f.IO)((0,f.hJ)(ue,"iam"),(0,f.ar)("userid","==",$.value)):(0,f.IO)((0,f.hJ)(ue,"iam"),(0,f.ar)("userid","==",$.value),(0,f.ar)("category","==",t)),M.value=(0,f.cf)(E.value,(e=>{a.value=[],e.docChanges().forEach((e=>{var l={...e.doc.data(),id:e.doc.id};if("added"===e.type&&a.value.push(l),"modified"===e.type&&(a.value.pop(l),console.log("Modified data: ",l)),"removed"===e.type){const l=a.value.findIndex((l=>l.name===e.doc.data().name));console.log("Removed city: ",e.doc.data(),e.doc.id),a.value.splice(l,1)}}))}))}));function We(){G.value=!1}async function ke(e,l){d.value=e.name,c.value=e.specifications,T.value=e.price,j.value=e.category,G.value=!0,J.value=l}async function qe(){G.value=!1,console.log("tehatal");const e={name:d.value,category:j.value,specifications:c.value,price:T.value};await(0,f.r7)((0,f.JU)(ue,"iam",J.value),e),await Ue()}async function Ue(){A.value="all",E.value=(0,f.IO)((0,f.hJ)(ue,"iam"),(0,f.ar)("userid","==",$.value)),M.value=(0,f.cf)(E.value,(e=>{a.value=[],e.docChanges().forEach((e=>{var l={...e.doc.data(),id:e.doc.id};if("added"===e.type&&a.value.push(l),"modified"===e.type&&console.log("Modified city: ",l),"removed"===e.type){const l=a.value.findIndex((l=>l.name===e.doc.data().name));console.log("Removed city: ",e.doc.data(),e.doc.id),a.value.splice(l,1)}}))}))}return(0,t.bv)((async()=>{Ue()})),(e,l)=>{const i=(0,t.up)("q-btn"),s=(0,t.up)("q-input"),r=(0,t.up)("q-select"),m=(0,t.up)("q-separator"),v=(0,t.up)("q-icon"),p=(0,t.up)("q-file"),g=(0,t.up)("q-card-section"),f=(0,t.up)("q-card-actions"),w=(0,t.up)("q-card"),y=(0,t.up)("q-dialog"),z=(0,t.up)("q-tab"),O=(0,t.up)("q-tabs"),E=(0,t.up)("q-tooltip"),M=(0,t.up)("q-img"),J=(0,t.up)("q-badge"),B=(0,t.up)("q-item-section"),$=(0,t.up)("q-item-label"),ee=(0,t.up)("q-label"),ae=(0,t.up)("q-item"),te=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t.Wm)(i,{align:"left",class:"q-ma-md",style:{"background-color":"#d8e6e9 !important"},icon:"add",label:"Add Product",onClick:l[0]||(l[0]=e=>de()),flat:"",dense:""}),(0,t._)("div",null,[(0,t.Wm)(y,{modelValue:K.value,"onUpdate:modelValue":l[9]||(l[9]=e=>K.value=e)},{default:(0,t.w5)((()=>[(0,t.Wm)(w,{class:"q-ma-md",width:"500px"},{default:(0,t.w5)((()=>[(0,t.Wm)(g,null,{default:(0,t.w5)((()=>[(0,t.Wm)(s,{label:"Name","lazy-rules":"",rules:[e=>!!e||"Please enter  Name"],modelValue:d.value,"onUpdate:modelValue":l[1]||(l[1]=e=>d.value=e)},null,8,["rules","modelValue"]),(0,t.Wm)(s,{modelValue:c.value,"onUpdate:modelValue":l[2]||(l[2]=e=>c.value=e),label:"Specifications"},null,8,["modelValue"]),(0,t.Wm)(s,{modelValue:T.value,"onUpdate:modelValue":l[3]||(l[3]=e=>T.value=e),modelModifiers:{number:!0},label:"Price"},null,8,["modelValue"]),(0,t.Wm)(r,{modelValue:j.value,"onUpdate:modelValue":l[4]||(l[4]=e=>j.value=e),options:R.value,label:"Category"},null,8,["modelValue","options"]),(0,t.Wm)(m),_,(0,t.Wm)(p,{filled:"","bottom-slots":"",modelValue:Y.value,"onUpdate:modelValue":l[7]||(l[7]=e=>Y.value=e),label:"Product Image",counter:""},{prepend:(0,t.w5)((()=>[(0,t.Wm)(v,{name:"cloud_upload",onClick:l[5]||(l[5]=(0,o.iM)((()=>{}),["stop","prevent"]))})])),append:(0,t.w5)((()=>[(0,t.Wm)(v,{name:"close",onClick:l[6]||(l[6]=(0,o.iM)((e=>Y.value=null),["stop","prevent"])),class:"cursor-pointer"})])),hint:(0,t.w5)((()=>[(0,t.Uk)(" Product Pic ")])),_:1},8,["modelValue"]),b])),_:1}),(0,t.Wm)(f,{align:"right"},{default:(0,t.w5)((()=>[(0,t.Wm)(i,{color:"accent",label:"ADD Product",class:"q-pa-lg",onClick:l[8]||(l[8]=e=>me()),flat:"",dense:""})])),_:1})])),_:1})])),_:1},8,["modelValue"])]),(0,t._)("div",h,[(0,t._)("div",W,[(0,t.Wm)(O,{class:"q-ma-sm col-11 row",align:"justify",breakpoint:0,modelValue:A.value,"onUpdate:modelValue":l[10]||(l[10]=e=>A.value=e)},{default:(0,t.w5)((()=>[(0,t.Wm)(z,{value:"all",name:"all",icon:"list",label:"all",class:"hover-tab"}),(0,t.Wm)(z,{value:"starter",name:"starter",icon:"lunch_dining",label:"Starter",class:"hover-tab"}),(0,t.Wm)(z,{value:"drinks",name:"drinks",icon:"sports_bar",label:"Drinks",class:"hover-tab"}),(0,t.Wm)(z,{value:"promos",name:"promos",icon:"fastfood",label:"Promos",class:"hover-tab"})])),_:1},8,["modelValue"]),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.value,(e=>((0,t.wg)(),(0,t.j4)(w,{style:{"background-color":"#d8e6e9 !important"},onMouseover:l[11]||(l[11]=e=>ie.value=!0),key:e.id,class:"q-ma-md"},{default:(0,t.w5)((()=>[(0,t.Wm)(M,{width:"300px",onClick:l=>pe(e),height:"250px",src:e.image},{default:(0,t.w5)((()=>[ie.value?((0,t.wg)(),(0,t.j4)(E,{key:0,class:"q-pl-lg q-pr-lg",target:ie.value,anchor:"center middle",self:"center middle",style:{"background-color":"#d89f65"}},{default:(0,t.w5)((()=>[k])),_:1},8,["target"])):(0,t.kq)("",!0)])),_:2},1032,["onClick","src"]),(0,t.Wm)(g,null,{default:(0,t.w5)((()=>[(0,t._)("div",q,[(0,t.Uk)((0,u.zw)(e.name)+" ",1),U,(0,t.Uk)(" "+(0,u.zw)(e.price),1)]),(0,t._)("div",null,[V,(0,t.Wm)(J,{rounded:"",color:"amber-10",class:"q-ml-lg"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,u.zw)(e.category),1)])),_:2},1024)])])),_:2},1024),(0,t.Wm)(g,{align:"right"},{default:(0,t.w5)((()=>[(0,t.Wm)(i,{color:"secondary",class:"q-mr-md",icon:"edit",onClick:l=>ke(e,e.id)},null,8,["onClick"]),(0,t.Wm)(i,{color:"negative",icon:"close",hidden:"",onClick:l=>ve(e)},null,8,["onClick"])])),_:2},1024)])),_:2},1024)))),128))]),(0,t._)("div",x,[(0,t._)("div",null,[(0,t.Wm)(w,{flat:"",bordered:"",class:(0,u.C_)(["my-card",(0,n.SU)(ce).dark.isActive?"bg-grey-9":"bg-grey-2"])},{default:(0,t.w5)((()=>[(0,t.Wm)(g,null,{default:(0,t.w5)((()=>[(0,t._)("div",null,[(0,t._)("div",null,[(0,t._)("div",C,[(0,t.Uk)(" ORDER# "),0!==X.value.length?((0,t.wg)(),(0,t.j4)(J,{key:0,color:"blue",align:"right"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,u.zw)((0,n.SU)(le))+" "+(0,u.zw)(L.value),1)])),_:1})):(0,t.kq)("",!0)]),(0,t.Wm)(m,{inset:""}),0===X.value.length?((0,t.wg)(),(0,t.iD)("div",H,[(0,n.SU)(ce).platform.is.desktop?((0,t.wg)(),(0,t.iD)("img",D)):(0,t.kq)("",!0)])):((0,t.wg)(),(0,t.iD)("div",I,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(X.value,(e=>((0,t.wg)(),(0,t.iD)("div",{key:e.id,class:"text-subtitle2 q-ma-md q-pa-sm"},[(0,t.Wm)(w,{bordered:"",class:"my-card",style:{"background-color":"#eaf0f0 !important"}},{default:(0,t.w5)((()=>[(0,t.Wm)(ae,null,{default:(0,t.w5)((()=>[(0,t.Wm)(B,{avatar:""},{default:(0,t.w5)((()=>[(0,t._)("img",{class:"border-radius-inherit",src:e.image,alt:"order iamge",width:"70",height:"70"},null,8,Z)])),_:2},1024),(0,t.Wm)(B,null,{default:(0,t.w5)((()=>[(0,t.Wm)($,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,u.zw)(e.name),1)])),_:2},1024),(0,t.Wm)($,{class:"text-h5"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,u.zw)(e.price),1)])),_:2},1024)])),_:2},1024),(0,t.Wm)(B,{align:"center"},{default:(0,t.w5)((()=>[(0,t.Wm)($,null,{default:(0,t.w5)((()=>[(0,t.Uk)(" QTY ")])),_:1}),(0,t.Wm)(ee,{class:"text-h5",align:"center"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,u.zw)(e.order_quantity),1)])),_:2},1024)])),_:2},1024),(0,t.Wm)(B,null,{default:(0,t.w5)((()=>[(0,t.Wm)(ee,{class:"text-h5"},{default:(0,t.w5)((()=>[(0,t.Wm)(i,{flat:"",dense:"",icon:"add",onClick:l=>we(e)},null,8,["onClick"]),(0,t.Wm)(i,{flat:"",dense:"",icon:"remove",onClick:l=>ye(e)},null,8,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])))),128))]))])])])),_:1}),(0,t.Wm)(m,{inset:""}),(0,t.Wm)(w,{class:"my-card"},{default:(0,t.w5)((()=>[0!==X.value.length?((0,t.wg)(),(0,t.j4)(ae,{key:0},{default:(0,t.w5)((()=>[(0,t.Wm)(g,null,{default:(0,t.w5)((()=>[(0,t.Wm)(B,null,{default:(0,t.w5)((()=>[(0,t.Wm)($,{class:"text-h5"},{default:(0,t.w5)((()=>[(0,t.Uk)(" TOTAL AMOUNT: ")])),_:1})])),_:1})])),_:1}),(0,t.Wm)(g,null,{default:(0,t.w5)((()=>[(0,t.Wm)(B,null,{default:(0,t.w5)((()=>[(0,t.Wm)($,{class:"text-h5"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,u.zw)((0,n.SU)(fe)),1)])),_:1})])),_:1})])),_:1})])),_:1})):(0,t.kq)("",!0),(0,t.Wm)(m),(0,t.Wm)(f,null,{default:(0,t.w5)((()=>[(0,t.Wm)(i,{onClick:_e,color:"deep-orange",glossy:"",label:"Cancel Order"}),(0,t.Wm)(i,{onClick:ge,color:"brown-5",label:"Send Order"})])),_:1})])),_:1})])),_:1},8,["class"])])]),(0,t.Wm)(y,{persistent:"",modelValue:G.value,"onUpdate:modelValue":l[16]||(l[16]=e=>G.value=e),width:"700px"},{default:(0,t.w5)((()=>[(0,t.Wm)(w,{style:{width:"100%","max-width":"800px",padding:"20px"}},{default:(0,t.w5)((()=>[S,(0,t.Wm)(g,null,{default:(0,t.w5)((()=>[(0,t._)("div",Q,[(0,t.Wm)(s,{modelValue:d.value,"onUpdate:modelValue":l[12]||(l[12]=e=>d.value=e),label:"Item name"},null,8,["modelValue"]),(0,t.Wm)(s,{modelValue:c.value,"onUpdate:modelValue":l[13]||(l[13]=e=>c.value=e),label:"Specifications"},null,8,["modelValue"]),(0,t.Wm)(r,{modelValue:j.value,"onUpdate:modelValue":l[14]||(l[14]=e=>j.value=e),options:R.value,label:"Category"},null,8,["modelValue","options"]),(0,t.Wm)(s,{modelValue:T.value,"onUpdate:modelValue":l[15]||(l[15]=e=>T.value=e),label:"Price"},null,8,["modelValue"])])])),_:1}),(0,t.Wm)(f,null,{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(i,{label:"Cancel",type:"reset",class:"col",unelevated:"",onClick:We},null,512),[[te]]),(0,t.Wm)(i,{unelevated:"",onClick:qe,type:"submit",label:"Save",class:"col",color:"primary"})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)(y,{modelValue:F.value,"onUpdate:modelValue":l[17]||(l[17]=e=>F.value=e)},{default:(0,t.w5)((()=>[(0,t.Wm)(w,{class:"my-card"},{default:(0,t.w5)((()=>[(0,t.Wm)(g,null,{default:(0,t.w5)((()=>[(0,t._)("div",P," Are your sure you want do delete this item "+(0,u.zw)(N.value)+"? ",1)])),_:1}),(0,t.Wm)(f,null,{default:(0,t.w5)((()=>[(0,t.wy)(((0,t.wg)(),(0,t.j4)(i,{flat:""},{default:(0,t.w5)((()=>[(0,t.Uk)("Cancel")])),_:1})),[[te,F.value]]),(0,t.Wm)(i,{flat:"",onClick:be},{default:(0,t.w5)((()=>[(0,t.Uk)("Confirm")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])])}}};var z=a(4455),O=a(9420),j=a(2074),A=a(4458),E=a(3190),M=a(3119),R=a(6384),F=a(926),J=a(2857),N=a(1821),Y=a(7817),B=a(900),L=a(335),G=a(6858),K=a(990),$=a(490),X=a(1233),ee=a(3115),le=a(2146),ae=a(9984),te=a.n(ae);const oe=T,ue=oe;te()(T,"components",{QBtn:z.Z,QFile:O.Z,QDialog:j.Z,QCard:A.Z,QCardSection:E.Z,QInput:M.Z,QSelect:R.Z,QSeparator:F.Z,QIcon:J.Z,QCardActions:N.Z,QTabs:Y.Z,QTab:B.Z,QImg:L.Z,QTooltip:G.Z,QBadge:K.Z,QItem:$.Z,QItemSection:X.Z,QItemLabel:ee.Z}),te()(T,"directives",{ClosePopup:le.Z})},8586:(e,l,a)=>{e.exports=a.p+"img/noitem.6a5a83b2.png"}}]);