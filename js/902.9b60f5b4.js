(globalThis["webpackChunkfirebaseaut"]=globalThis["webpackChunkfirebaseaut"]||[]).push([[902],{1902:(e,l,a)=>{"use strict";a.r(l),a.d(l,{default:()=>ue});a(9665);var t=a(9835),u=a(1957),o=a(6970),i=a(499),n=a(8586),d=a.n(n),s=a(5762),r=a.n(s),c=a(8339),m=a(9302),v=a(9120),p=a(222),f=a(9017),g=a(2079),w=a(202);const _=(0,t._)("br",null,null,-1),y=(0,t._)("br",null,null,-1),b={class:"row"},h={class:"col-9 row",style:{"align-items":"flex-start"}},W=(0,t._)("span",{class:"text-weight-regular text-h5 text-black"},"ADD",-1),k={align:"center",class:"text-h6 text-uppercase",style:{"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis","max-width":"250px"}},q=(0,t._)("span",{class:"text-h6 text-uppercase"},"â‚±",-1),U=(0,t._)("span",{class:"text-uppercase"},"Category:",-1),V={class:"col row q-mt-md"},x={class:"text-h6"},C={key:0,style:{"text-align":"center"},class:"text-subtitle2 q-ma-sm"},H={key:0,class:"",align:"center",alt:"Quasar logo",width:"150",height:"150",src:d()},D={key:1},I=["src"],Z=(0,t._)("div",{class:"text-h6"},"Edit Product",-1),Q={class:"text-subtitle2"},S={class:"text-subtitle2"},P={__name:"FeedPage",setup(e){const l=(0,t.FN)().appContext.config.globalProperties,a=(0,i.iH)([]),n=(0,i.iH)(""),d=(0,i.iH)(""),s=(0,i.iH)(""),P=(0,i.iH)(0),T=(0,i.iH)(0),z=(0,i.iH)(2.3),j=(0,i.iH)(""),A=(0,i.iH)("all"),M=(0,i.iH)(null),O=(0,i.iH)(null),F=(0,i.iH)(["starter","drinks","promos"]),J=(0,i.iH)(!1),E=(0,i.iH)(""),Y=(0,i.iH)(""),N=((0,i.iH)(""),(0,i.iH)([])),B=(0,i.iH)(""),L=(0,i.iH)(r()()),R=(0,i.iH)(!1),G=(0,i.iH)(!1),K=(0,i.iH)(""),$=(K.value.slice(0,7),(0,i.iH)([])),X=(0,i.iH)(0),ee=(new Date).getFullYear(),le=(0,i.iH)(""),ae={apiKey:"AIzaSyDbjhOcP2TgjTn1Me9NxaGLJYjF8i8ktZE",authDomain:"fire-tut-981d2.firebaseapp.com",databaseURL:"https://fire-tut-981d2-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"fire-tut-981d2",storageBucket:"fire-tut-981d2.appspot.com",messagingSenderId:"935943220581",appId:"1:935943220581:web:e551613f36c35b1c41058c",measurementId:"G-TH1TFB65DG"},te=(0,p.ZF)(ae),ue=(0,f.ad)(te),oe=l.$getStorage(),ie=((0,i.iH)(null),(0,i.iH)(!1));async function ne(){G.value=!0}(0,c.tv)();const de=(0,i.iH)(!0),se=(0,m.Z)();let re;async function ce(){(0,i.iH)(oe,N.value.name.toString());const e=(0,g.iH)(oe,N.value.name.toString());await l.$uploadBytes(e,N.value).then((e=>{}));try{await(0,g.Jt)((0,g.iH)(oe,N.value.name.toString())).then((e=>{B.value=e}));await(0,f.ET)((0,f.hJ)(ue,"iam"),{name:d.value,description:n.value,specifications:s.value,price:P.value,pricebefore:T.value,ratings:z.value,category:j.value,image:B.value,ratings:z.value,percent:P.value/T.value*100,userid:K.value});G.value=!1,await qe(),L.value=r()()(d.value=""),n.value=""}catch(a){return a}}async function me(e){E.value=e.id,Y.value=e.name,J.value=!0}const ve=(e,l=1)=>{const a=new Date,t={month:"short",day:"numeric",year:"numeric"},u=a.toLocaleDateString("en-US",t),o=$.value.find((l=>l.itemId===e.id));if(o)return void(o.order_quantity+=l);le.value=e.userid;const i={itemId:e.id,name:e.name,price:e.price,desc:e.description,category:e.category,image:e.image,orderDate:u,order_quantity:l};$.value=[...$.value,{...i}]};async function pe(){try{const e=(new Date).getFullYear(),l=(new Date,await(0,f.ET)((0,f.hJ)(ue,"orders"),{orders:$.value,userId:le.value,payment_status:"unpaid",orderId:"ORDER#"+e+L.value}),se.dialog({title:"Uploading...",dark:!0,message:"0%",progress:{spinner:v.Z,color:"amber"},persistent:!0,ok:!1}));let a=0;const t=setInterval((()=>{a=Math.min(100,a+Math.floor(22*Math.random())),l.update({message:`${a}%`}),100===a&&(clearInterval(t),l.update({title:"Done!",message:"Upload completed successfully",progress:!1,ok:!0}))}),300);$.value=[],L.value=r()()}catch(e){return e}}const fe=(0,t.Fl)((()=>{X.value=0;for(const e of $.value)X.value+=e.price*e.order_quantity;return X.value})),ge=e=>{e.order_quantity++},we=e=>{e.order_quantity>1&&e.order_quantity--},_e=()=>{$.value=[]};async function ye(){J.value=!1,await(0,f.oe)((0,f.JU)(ue,"iam",E.value)),await qe()}(0,t.vl)((async()=>{re=(0,w.v0)(),(0,w.Aj)(re,(e=>{de.value=!!e}))}));var be=(0,w.v0)().currentUser;K.value=be.uid,null!=be&&(be.displayName,be.uid),(0,t.YP)(A,((e,l)=>{O.value&&O.value();const t=e;M.value="all"===t?(0,f.IO)((0,f.hJ)(ue,"iam"),(0,f.ar)("userid","==",K.value)):(0,f.IO)((0,f.hJ)(ue,"iam"),(0,f.ar)("userid","==",K.value),(0,f.ar)("category","==",t)),O.value=(0,f.cf)(M.value,(e=>{a.value=[],e.docChanges().forEach((e=>{var l={...e.doc.data(),id:e.doc.id};if("added"===e.type&&a.value.push(l),"modified"===e.type&&a.value.pop(l),"removed"===e.type){const l=a.value.findIndex((l=>l.name===e.doc.data().name));a.value.splice(l,1)}}))}))}));function he(){R.value=!1}async function We(e,l){d.value=e.name,s.value=e.specifications,P.value=e.price,j.value=e.category,R.value=!0,E.value=l}async function ke(){R.value=!1;const e={name:d.value,category:j.value,specifications:s.value,price:P.value};await(0,f.r7)((0,f.JU)(ue,"iam",E.value),e),await qe()}async function qe(){A.value="all",M.value=(0,f.IO)((0,f.hJ)(ue,"iam"),(0,f.ar)("userid","==",K.value)),O.value=(0,f.cf)(M.value,(e=>{a.value=[],e.docChanges().forEach((e=>{var l={...e.doc.data(),id:e.doc.id};if("added"===e.type&&a.value.push(l),"modified"===e.type&&console.log("Modified:"),"removed"===e.type){const l=a.value.findIndex((l=>l.name===e.doc.data().name));a.value.splice(l,1)}}))}))}return(0,t.bv)((async()=>{qe()})),(e,l)=>{const n=(0,t.up)("q-input"),r=(0,t.up)("q-select"),c=(0,t.up)("q-separator"),m=(0,t.up)("q-icon"),v=(0,t.up)("q-file"),p=(0,t.up)("q-card-section"),f=(0,t.up)("q-btn"),g=(0,t.up)("q-card-actions"),w=(0,t.up)("q-card"),T=(0,t.up)("q-dialog"),z=(0,t.up)("q-tab"),M=(0,t.up)("q-tabs"),O=(0,t.up)("q-tooltip"),E=(0,t.up)("q-img"),B=(0,t.up)("q-badge"),K=(0,t.up)("q-item-section"),X=(0,t.up)("q-item-label"),le=(0,t.up)("q-label"),ae=(0,t.up)("q-item"),te=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("div",null,[(0,t.Wm)(T,{modelValue:G.value,"onUpdate:modelValue":l[8]||(l[8]=e=>G.value=e)},{default:(0,t.w5)((()=>[(0,t.Wm)(w,{class:"q-ma-md",width:"500px"},{default:(0,t.w5)((()=>[(0,t.Wm)(p,null,{default:(0,t.w5)((()=>[(0,t.Wm)(n,{label:"Name","lazy-rules":"",rules:[e=>!!e||"Please enter  Name"],modelValue:d.value,"onUpdate:modelValue":l[0]||(l[0]=e=>d.value=e)},null,8,["rules","modelValue"]),(0,t.Wm)(n,{modelValue:s.value,"onUpdate:modelValue":l[1]||(l[1]=e=>s.value=e),label:"Specifications"},null,8,["modelValue"]),(0,t.Wm)(n,{modelValue:P.value,"onUpdate:modelValue":l[2]||(l[2]=e=>P.value=e),modelModifiers:{number:!0},label:"Price"},null,8,["modelValue"]),(0,t.Wm)(r,{modelValue:j.value,"onUpdate:modelValue":l[3]||(l[3]=e=>j.value=e),options:F.value,label:"Category"},null,8,["modelValue","options"]),(0,t.Wm)(c),_,(0,t.Wm)(v,{filled:"","bottom-slots":"",modelValue:N.value,"onUpdate:modelValue":l[6]||(l[6]=e=>N.value=e),label:"Product Image",counter:""},{prepend:(0,t.w5)((()=>[(0,t.Wm)(m,{name:"cloud_upload",onClick:l[4]||(l[4]=(0,u.iM)((()=>{}),["stop","prevent"]))})])),append:(0,t.w5)((()=>[(0,t.Wm)(m,{name:"close",onClick:l[5]||(l[5]=(0,u.iM)((e=>N.value=null),["stop","prevent"])),class:"cursor-pointer"})])),hint:(0,t.w5)((()=>[(0,t.Uk)(" Product Pic ")])),_:1},8,["modelValue"]),y])),_:1}),(0,t.Wm)(g,{align:"right"},{default:(0,t.w5)((()=>[(0,t.Wm)(f,{color:"accent",label:"ADD Product",class:"q-pa-lg",onClick:l[7]||(l[7]=e=>ce()),flat:"",dense:""})])),_:1})])),_:1})])),_:1},8,["modelValue"])]),(0,t._)("div",b,[(0,t._)("div",h,[(0,t.Wm)(f,{class:"q-ma-md",style:{"background-color":"#d8e6e9 !important"},icon:"add",label:"Add Product",onClick:l[9]||(l[9]=e=>ne()),flat:"",dense:""}),(0,t.Wm)(M,{class:"q-ma-sm col-11 row",align:"justify",breakpoint:0,modelValue:A.value,"onUpdate:modelValue":l[10]||(l[10]=e=>A.value=e)},{default:(0,t.w5)((()=>[(0,t.Wm)(z,{value:"all",name:"all",icon:"list",label:"all",class:"hover-tab"}),(0,t.Wm)(z,{value:"starter",name:"starter",icon:"lunch_dining",label:"Starter",class:"hover-tab"}),(0,t.Wm)(z,{value:"drinks",name:"drinks",icon:"sports_bar",label:"Drinks",class:"hover-tab"}),(0,t.Wm)(z,{value:"promos",name:"promos",icon:"fastfood",label:"Promos",class:"hover-tab"})])),_:1},8,["modelValue"]),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.value,(e=>((0,t.wg)(),(0,t.j4)(w,{style:{"background-color":"#d8e6e9 !important"},onMouseover:l[11]||(l[11]=e=>ie.value=!0),key:e.id,class:"q-ma-md"},{default:(0,t.w5)((()=>[(0,t.Wm)(E,{width:"300px",onClick:l=>ve(e),height:"250px",src:e.image},{default:(0,t.w5)((()=>[ie.value?((0,t.wg)(),(0,t.j4)(O,{key:0,class:"q-pl-lg q-pr-lg",target:ie.value,anchor:"center middle",self:"center middle",style:{"background-color":"#d89f65"}},{default:(0,t.w5)((()=>[W])),_:1},8,["target"])):(0,t.kq)("",!0)])),_:2},1032,["onClick","src"]),(0,t.Wm)(p,null,{default:(0,t.w5)((()=>[(0,t._)("div",k,[(0,t.Uk)((0,o.zw)(e.name)+" ",1),q,(0,t.Uk)(" "+(0,o.zw)(e.price),1)]),(0,t._)("div",null,[U,(0,t.Wm)(B,{rounded:"",color:"amber-10",class:"q-ml-lg"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.category),1)])),_:2},1024)])])),_:2},1024),(0,t.Wm)(p,{align:"right"},{default:(0,t.w5)((()=>[(0,t.Wm)(f,{color:"secondary",class:"q-mr-md",icon:"edit",onClick:l=>We(e,e.id)},null,8,["onClick"]),(0,t.Wm)(f,{color:"negative",icon:"close",hidden:"",onClick:l=>me(e)},null,8,["onClick"])])),_:2},1024)])),_:2},1024)))),128))]),(0,t._)("div",V,[(0,t._)("div",null,[(0,t.Wm)(w,{flat:"",bordered:"",class:(0,o.C_)(["my-card",(0,i.SU)(se).dark.isActive?"bg-grey-9":"bg-grey-2"])},{default:(0,t.w5)((()=>[(0,t.Wm)(p,null,{default:(0,t.w5)((()=>[(0,t._)("div",null,[(0,t._)("div",null,[(0,t._)("div",x,[(0,t.Uk)(" ORDER# "),0!==$.value.length?((0,t.wg)(),(0,t.j4)(B,{key:0,color:"blue",align:"right"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)((0,i.SU)(ee))+" "+(0,o.zw)(L.value),1)])),_:1})):(0,t.kq)("",!0)]),(0,t.Wm)(c,{inset:""}),0===$.value.length?((0,t.wg)(),(0,t.iD)("div",C,[(0,i.SU)(se).platform.is.desktop?((0,t.wg)(),(0,t.iD)("img",H)):(0,t.kq)("",!0)])):((0,t.wg)(),(0,t.iD)("div",D,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)($.value,(e=>((0,t.wg)(),(0,t.iD)("div",{key:e.id,class:"text-subtitle2 q-ma-md q-pa-sm"},[(0,t.Wm)(w,{bordered:"",class:"my-card",style:{"background-color":"#eaf0f0 !important"}},{default:(0,t.w5)((()=>[(0,t.Wm)(ae,null,{default:(0,t.w5)((()=>[(0,t.Wm)(K,{avatar:""},{default:(0,t.w5)((()=>[(0,t._)("img",{class:"border-radius-inherit",src:e.image,alt:"order iamge",width:"70",height:"70"},null,8,I)])),_:2},1024),(0,t.Wm)(K,null,{default:(0,t.w5)((()=>[(0,t.Wm)(X,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.name),1)])),_:2},1024),(0,t.Wm)(X,{class:"text-h5"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.price),1)])),_:2},1024)])),_:2},1024),(0,t.Wm)(K,{align:"center"},{default:(0,t.w5)((()=>[(0,t.Wm)(X,null,{default:(0,t.w5)((()=>[(0,t.Uk)(" QTY ")])),_:1}),(0,t.Wm)(le,{class:"text-h5",align:"center"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.order_quantity),1)])),_:2},1024)])),_:2},1024),(0,t.Wm)(K,null,{default:(0,t.w5)((()=>[(0,t.Wm)(le,{class:"text-h5"},{default:(0,t.w5)((()=>[(0,t.Wm)(f,{flat:"",dense:"",icon:"add",onClick:l=>ge(e)},null,8,["onClick"]),(0,t.Wm)(f,{flat:"",dense:"",icon:"remove",onClick:l=>we(e)},null,8,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])))),128))]))])])])),_:1}),(0,t.Wm)(c,{inset:""}),(0,t.Wm)(w,{class:"my-card"},{default:(0,t.w5)((()=>[0!==$.value.length?((0,t.wg)(),(0,t.j4)(ae,{key:0},{default:(0,t.w5)((()=>[(0,t.Wm)(p,null,{default:(0,t.w5)((()=>[(0,t.Wm)(K,null,{default:(0,t.w5)((()=>[(0,t.Wm)(X,{class:"text-h5"},{default:(0,t.w5)((()=>[(0,t.Uk)(" TOTAL AMOUNT: ")])),_:1})])),_:1})])),_:1}),(0,t.Wm)(p,null,{default:(0,t.w5)((()=>[(0,t.Wm)(K,null,{default:(0,t.w5)((()=>[(0,t.Wm)(X,{class:"text-h5"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)((0,i.SU)(fe)),1)])),_:1})])),_:1})])),_:1})])),_:1})):(0,t.kq)("",!0),(0,t.Wm)(c),(0,t.Wm)(g,null,{default:(0,t.w5)((()=>[(0,t.Wm)(f,{onClick:_e,color:"deep-orange",glossy:"",label:"Cancel Order"}),(0,t.Wm)(f,{onClick:pe,color:"brown-5",label:"Send Order"})])),_:1})])),_:1})])),_:1},8,["class"])])]),(0,t.Wm)(T,{persistent:"",modelValue:R.value,"onUpdate:modelValue":l[16]||(l[16]=e=>R.value=e),width:"700px"},{default:(0,t.w5)((()=>[(0,t.Wm)(w,{style:{width:"100%","max-width":"800px",padding:"20px"}},{default:(0,t.w5)((()=>[Z,(0,t.Wm)(p,null,{default:(0,t.w5)((()=>[(0,t._)("div",Q,[(0,t.Wm)(n,{modelValue:d.value,"onUpdate:modelValue":l[12]||(l[12]=e=>d.value=e),label:"Item name"},null,8,["modelValue"]),(0,t.Wm)(n,{modelValue:s.value,"onUpdate:modelValue":l[13]||(l[13]=e=>s.value=e),label:"Specifications"},null,8,["modelValue"]),(0,t.Wm)(r,{modelValue:j.value,"onUpdate:modelValue":l[14]||(l[14]=e=>j.value=e),options:F.value,label:"Category"},null,8,["modelValue","options"]),(0,t.Wm)(n,{modelValue:P.value,"onUpdate:modelValue":l[15]||(l[15]=e=>P.value=e),label:"Price"},null,8,["modelValue"])])])),_:1}),(0,t.Wm)(g,null,{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(f,{label:"Cancel",type:"reset",class:"col",unelevated:"",onClick:he},null,512),[[te]]),(0,t.Wm)(f,{unelevated:"",onClick:ke,type:"submit",label:"Save",class:"col",color:"primary"})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)(T,{modelValue:J.value,"onUpdate:modelValue":l[17]||(l[17]=e=>J.value=e)},{default:(0,t.w5)((()=>[(0,t.Wm)(w,{class:"my-card"},{default:(0,t.w5)((()=>[(0,t.Wm)(p,null,{default:(0,t.w5)((()=>[(0,t._)("div",S," Are your sure you want do delete this item "+(0,o.zw)(Y.value)+"? ",1)])),_:1}),(0,t.Wm)(g,null,{default:(0,t.w5)((()=>[(0,t.wy)(((0,t.wg)(),(0,t.j4)(f,{flat:""},{default:(0,t.w5)((()=>[(0,t.Uk)("Cancel")])),_:1})),[[te,J.value]]),(0,t.Wm)(f,{flat:"",onClick:ye},{default:(0,t.w5)((()=>[(0,t.Uk)("Confirm")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])])}}};var T=a(9420),z=a(4455),j=a(2074),A=a(4458),M=a(3190),O=a(3119),F=a(6384),J=a(926),E=a(2857),Y=a(1821),N=a(7817),B=a(900),L=a(335),R=a(6858),G=a(990),K=a(490),$=a(1233),X=a(3115),ee=a(2146),le=a(9984),ae=a.n(le);const te=P,ue=te;ae()(P,"components",{QFile:T.Z,QBtn:z.Z,QDialog:j.Z,QCard:A.Z,QCardSection:M.Z,QInput:O.Z,QSelect:F.Z,QSeparator:J.Z,QIcon:E.Z,QCardActions:Y.Z,QTabs:N.Z,QTab:B.Z,QImg:L.Z,QTooltip:R.Z,QBadge:G.Z,QItem:K.Z,QItemSection:$.Z,QItemLabel:X.Z}),ae()(P,"directives",{ClosePopup:ee.Z})},8586:(e,l,a)=>{e.exports=a.p+"img/noitem.6a5a83b2.png"}}]);