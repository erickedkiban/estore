"use strict";(globalThis["webpackChunkfirebaseaut"]=globalThis["webpackChunkfirebaseaut"]||[]).push([[902],{1902:(e,l,a)=>{a.r(l),a.d(l,{default:()=>J});a(9665);var o=a(9835),t=a(1957),u=a(6970),n=a(499),d=a(8339),i=a(222),s=a(9017),c=a(2079),m=a(202);const r={align:"right"},p=(0,o._)("br",null,null,-1),v=(0,o._)("br",null,null,-1),g={class:"q-pa-md row items-start q-gutter-md"},f={class:"text-h6",style:{"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis","max-width":"250px"}},w={class:"text-h5 text-orange"},b=(0,o._)("span",null,"₱",-1),h={class:"text-subtitle2 text-grey"},V=(0,o._)("span",null,"₱",-1),_={style:{"text-decoration-line":"line-through"}},W={class:"text-black text-caption"},y=(0,o._)("span",{class:"text-grey"},"(123)",-1),k={class:"text-subtitle2"},U={class:"text-subtitle2"},x={__name:"FeedPage",setup(e){const l=(0,o.FN)().appContext.config.globalProperties,a=(0,n.iH)([]),x=(0,n.iH)(""),C=(0,n.iH)(""),H=(0,n.iH)(""),q=(0,n.iH)(0),S=(0,n.iH)(0),Z=(0,n.iH)(2.3),I=(0,n.iH)(""),Q=(0,n.iH)(!1),D=(0,n.iH)(""),P=(0,n.iH)(""),z=(0,n.iH)(""),F=(0,n.iH)(null),j=(0,n.iH)(""),M=(0,n.iH)(!1),T=(0,n.iH)(!1),B=(0,n.iH)(""),N={apiKey:"AIzaSyDbjhOcP2TgjTn1Me9NxaGLJYjF8i8ktZE",authDomain:"fire-tut-981d2.firebaseapp.com",databaseURL:"https://fire-tut-981d2-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"fire-tut-981d2",storageBucket:"fire-tut-981d2.appspot.com",messagingSenderId:"935943220581",appId:"1:935943220581:web:e551613f36c35b1c41058c",measurementId:"G-TH1TFB65DG"},J=(0,i.ZF)(N),A=(0,s.ad)(J),E=l.$getStorage();async function R(){T.value=!0}const G=(0,d.tv)(),K=(0,n.iH)(!0);let L;async function O(){const e=(0,n.iH)(E,F.value.name.toString());console.log("forestRef",e);const a=(0,c.iH)(E,F.value.name.toString());await l.$uploadBytes(a,F.value).then((e=>{console.log("storage",e)}));try{await(0,c.Jt)((0,c.iH)(E,F.value.name.toString())).then((e=>{console.log(e),j.value=e}));const e=await(0,s.ET)((0,s.hJ)(A,"iam"),{name:C.value,description:x.value,specifications:H.value,price:q.value,pricebefore:S.value,ratings:Z.value,brand:I.value,image:j.value,ratings:Z.value,percent:q.value/S.value*100,userid:B.value});T.value=!1,C.value="",x.value="",console.log("Document written with ID: ",e.id)}catch(o){console.error("Error adding document: ",o)}}async function Y(e){M.value=!0,P.value=e.name,D.value=e.id,z.value=e.description}async function $(e){D.value=e.id,P.value=e.name,Q.value=!0}async function X(){Q.value=!1,await(0,s.oe)((0,s.JU)(A,"iam",D.value))}(0,o.vl)((async()=>{L=(0,m.v0)(),(0,m.Aj)(L,(e=>{e?(K.value=!0,console.log(K.value)):(K.value=!1,console.log(K.value))}))}));var ee=(0,m.v0)().currentUser;console.log(ee.uid),B.value=ee.uid,null!=ee&&(ee.displayName,ee.uid),console.log("yow",B.value);const le=(0,s.IO)((0,s.hJ)(A,"iam"),(0,s.ar)("userid","==",B.value)),ae=((0,s.cf)(le,(e=>{e.docChanges().forEach((e=>{console.log("doc.data()",e.doc.data());var l={...e.doc.data(),id:e.doc.id};if("added"===e.type&&a.value.push(l),"modified"===e.type&&console.log("Modified city: ",l),"removed"===e.type){const l=a.value.findIndex((l=>l.name===e.doc.data().name));console.log("Removed city: ",e.doc.data(),e.doc.id),a.value.splice(l,1)}}))})),()=>{const e=(0,m.v0)();(0,m.w7)(e).then((()=>{G.push("/sign-in"),console.log("Sign-out successful.")})).catch((e=>{G.push("/"),console.log(e)}))});return(e,l)=>{const n=(0,o.up)("q-btn"),d=(0,o.up)("q-input"),i=(0,o.up)("q-rating"),s=(0,o.up)("q-separator"),c=(0,o.up)("q-icon"),m=(0,o.up)("q-file"),D=(0,o.up)("q-card-section"),j=(0,o.up)("q-card-actions"),B=(0,o.up)("q-card"),N=(0,o.up)("q-dialog"),J=(0,o.up)("q-img"),A=(0,o.up)("q-form"),E=(0,o.Q2)("close-popup");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",r,[K.value?((0,o.wg)(),(0,o.j4)(n,{key:0,onClick:ae},{default:(0,o.w5)((()=>[(0,o.Uk)("log out")])),_:1})):(0,o.kq)("",!0)]),(0,o._)("div",null,[(0,o.Wm)(n,{color:"accent",icon:"add",class:"q-pa-lg",label:"Create Product",onClick:l[0]||(l[0]=e=>R()),flat:"",dense:""}),(0,o.Wm)(N,{modelValue:T.value,"onUpdate:modelValue":l[15]||(l[15]=e=>T.value=e)},{default:(0,o.w5)((()=>[(0,o.Wm)(B,{class:"q-ma-md",width:"500px"},{default:(0,o.w5)((()=>[(0,o.Wm)(D,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{label:"Name","lazy-rules":"",rules:[e=>!!e||"Please enter account  Name"],modelValue:C.value,"onUpdate:modelValue":l[1]||(l[1]=e=>C.value=e)},null,8,["rules","modelValue"]),(0,o.Wm)(d,{modelValue:x.value,"onUpdate:modelValue":l[2]||(l[2]=e=>x.value=e),label:"Description"},null,8,["modelValue"]),(0,o.Wm)(d,{modelValue:H.value,"onUpdate:modelValue":l[3]||(l[3]=e=>H.value=e),label:"Specifications"},null,8,["modelValue"]),(0,o.Wm)(d,{modelValue:q.value,"onUpdate:modelValue":l[4]||(l[4]=e=>q.value=e),modelModifiers:{number:!0},label:"Price"},null,8,["modelValue"]),(0,o.Wm)(d,{modelValue:S.value,"onUpdate:modelValue":l[5]||(l[5]=e=>S.value=e),modelModifiers:{number:!0},label:"Price Before"},null,8,["modelValue"]),(0,o.Wm)(d,{modelValue:I.value,"onUpdate:modelValue":l[6]||(l[6]=e=>I.value=e),label:"Brand"},null,8,["modelValue"]),(0,o.Wm)(i,{modelValue:Z.value,"onUpdate:modelValue":l[7]||(l[7]=e=>Z.value=e),max:"5",size:"3.5em",color:"yellow",icon:"star_border","icon-selected":"star","icon-half":"star_half","no-dimming":""},null,8,["modelValue"]),(0,o.Wm)(s),p,(0,o.Wm)(m,{filled:"","bottom-slots":"",modelValue:F.value,"onUpdate:modelValue":l[10]||(l[10]=e=>F.value=e),label:"Product Image",counter:""},{prepend:(0,o.w5)((()=>[(0,o.Wm)(c,{name:"cloud_upload",onClick:l[8]||(l[8]=(0,t.iM)((()=>{}),["stop","prevent"]))})])),append:(0,o.w5)((()=>[(0,o.Wm)(c,{name:"close",onClick:l[9]||(l[9]=(0,t.iM)((e=>F.value=null),["stop","prevent"])),class:"cursor-pointer"})])),hint:(0,o.w5)((()=>[(0,o.Uk)(" Field hint ")])),_:1},8,["modelValue"]),v,(0,o.Wm)(m,{filled:"","bottom-slots":"",modelValue:F.value,"onUpdate:modelValue":l[13]||(l[13]=e=>F.value=e),label:"Product View Image",counter:""},{prepend:(0,o.w5)((()=>[(0,o.Wm)(c,{name:"cloud_upload",onClick:l[11]||(l[11]=(0,t.iM)((()=>{}),["stop","prevent"]))})])),append:(0,o.w5)((()=>[(0,o.Wm)(c,{name:"close",onClick:l[12]||(l[12]=(0,t.iM)((e=>F.value=null),["stop","prevent"])),class:"cursor-pointer"})])),hint:(0,o.w5)((()=>[(0,o.Uk)(" Field hint ")])),_:1},8,["modelValue"])])),_:1}),(0,o.Wm)(j,{align:"right"},{default:(0,o.w5)((()=>[(0,o.Wm)(n,{color:"accent",label:"Save",class:"q-pa-lg",onClick:l[14]||(l[14]=e=>O()),flat:"",dense:""})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o._)("div",g,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.value,(e=>((0,o.wg)(),(0,o.j4)(B,{class:"my-card",key:e.id,onClick:l=>Y(e)},{default:(0,o.w5)((()=>[(0,o.Wm)(J,{width:"300px",height:"300px",src:e.image},null,8,["src"]),(0,o.Wm)(D,null,{default:(0,o.w5)((()=>[(0,o._)("div",f,(0,u.zw)(e.name),1),(0,o._)("div",w,[b,(0,o.Uk)(" "+(0,u.zw)(e.price),1)]),(0,o._)("div",h,[V,(0,o.Uk)(),(0,o._)("span",_,(0,u.zw)(e.pricebefore),1),(0,o.Uk)(" - "),(0,o._)("span",W,(0,u.zw)(e.percent)+"%",1)]),(0,o._)("div",null,[(0,o.Wm)(i,{modelValue:e.ratings,"onUpdate:modelValue":l=>e.ratings=l,max:"5",size:"1.5em",color:"yellow",icon:"star_border","icon-selected":"star","icon-half":"star_half","no-dimming":""},null,8,["modelValue","onUpdate:modelValue"]),y])])),_:2},1024),(0,o.Wm)(D,{class:"q-pt-none"}),(0,o.Wm)(D,{align:"right"},{default:(0,o.w5)((()=>[(0,o.Wm)(n,{icon:"close",onClick:l=>$(e)},null,8,["onClick"])])),_:2},1024)])),_:2},1032,["onClick"])))),128))]),(0,o.Wm)(N,{modelValue:M.value,"onUpdate:modelValue":l[18]||(l[18]=e=>M.value=e),width:"700px"},{default:(0,o.w5)((()=>[(0,o.Wm)(A,{onSubmit:e.onSubmitUpdate,width:"700px"},{default:(0,o.w5)((()=>[(0,o.Wm)(B,{style:{width:"700px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(D,null,{default:(0,o.w5)((()=>[(0,o._)("div",k,[(0,o.Wm)(d,{modelValue:P.value,"onUpdate:modelValue":l[16]||(l[16]=e=>P.value=e),label:"docName"},null,8,["modelValue"]),(0,o.Wm)(d,{modelValue:z.value,"onUpdate:modelValue":l[17]||(l[17]=e=>z.value=e),label:"docDesc"},null,8,["modelValue"])])])),_:1}),(0,o.Wm)(j,null,{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(n,{label:"Cancel",type:"reset",class:"col",unelevated:""},null,512),[[E]]),(0,o.Wm)(n,{unelevated:"",type:"submit",label:"Save",class:"col"})])),_:1})])),_:1})])),_:1},8,["onSubmit"])])),_:1},8,["modelValue"]),(0,o.Wm)(N,{modelValue:Q.value,"onUpdate:modelValue":l[19]||(l[19]=e=>Q.value=e)},{default:(0,o.w5)((()=>[(0,o.Wm)(B,{class:"my-card bg-purple text-white"},{default:(0,o.w5)((()=>[(0,o.Wm)(D,null,{default:(0,o.w5)((()=>[(0,o._)("div",U," Are your sure you want do delete this item "+(0,u.zw)(P.value)+"? ",1)])),_:1}),(0,o.Wm)(j,null,{default:(0,o.w5)((()=>[(0,o.wy)(((0,o.wg)(),(0,o.j4)(n,{flat:""},{default:(0,o.w5)((()=>[(0,o.Uk)("Cancel")])),_:1})),[[E,Q.value]]),(0,o.Wm)(n,{flat:"",onClick:X},{default:(0,o.w5)((()=>[(0,o.Uk)("Confirm")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])])}}};var C=a(4455),H=a(9420),q=a(4870),S=a(4458),Z=a(3190),I=a(4152),Q=a(1570),D=a(926),P=a(2857),z=a(1821),F=a(335),j=a(8326),M=a(2146),T=a(9984),B=a.n(T);const N=x,J=N;B()(x,"components",{QBtn:C.Z,QFile:H.Z,QDialog:q.Z,QCard:S.Z,QCardSection:Z.Z,QInput:I.Z,QRating:Q.Z,QSeparator:D.Z,QIcon:P.Z,QCardActions:z.Z,QImg:F.Z,QForm:j.Z}),B()(x,"directives",{ClosePopup:M.Z})}}]);